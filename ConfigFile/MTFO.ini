[Configuration]
; Show debug lines and shapes for visualization.
ShowDebugLines = False
; Enable Opticom feature to change traffic lights to green.
EnableOpticom = True
; Enable vehicles on the same side as the player to yield.
EnableSameSideYield = True
; Enable oncoming traffic to brake for the player.
EnableOncomingBraking = True
; Enable stopped vehicles to creep forward to clear a path.
EnableIntersectionCreep = True
; Enable logic to stop cross-traffic at intersections.
EnableIntersectionControl = True
; Enable logic for vehicles stuck behind the player to overtake.
EnableAroundPlayerLogic = False
; If true, 'Around Player' logic only runs when player is in a vehicle.
AroundPlayerLogicOnlyInVehicle = True

[AroundPlayer]
; How far behind the player to look for vehicles to overtake.
AroundPlayerDetectionRange = 30
; The width of the detection area behind the player.
AroundPlayerDetectionWidth = 8
; How far ahead of the player vehicles will target when overtaking.
AroundPlayerOvertakeDistance = 20
; Time in milliseconds before an overtake task is cancelled.
AroundPlayerTaskTimeoutMs = 4000
; How close a vehicle must get to its target to complete the task.
AroundPlayerTaskCompletionDistance = 3

[Opticom]
; Duration in milliseconds the traffic light stays green.
OpticomGreenDurationMs = 6000
; How many times the light flashes yellow before turning green.
OpticomFlashYellowCount = 1
; Interval in milliseconds for the yellow flashing.
OpticomFlashYellowInterval = 500
; Whether to flash yellow before turning green.
OpticomFlashYellowFirst = False

[TuningConstants]
; Time player must be stopped before yielding/intersection logic is paused.
StoppedPlayerTimeoutMs = 2000
; Cooldown after clearing an intersection before a new one can be detected.
IntersectionDetectionCooldownMs = 1300
; Forward detection range for vehicles.
DetectionRange = 40
; Width of the detection cone near the player vehicle.
DetectionStartWidth = 3.5
; Width of the detection cone at max range.
DetectionEndWidth = 5
; Vertical offset for the center of the detection area.
DetectionHeightOffset = -1
; Total height of the detection area.
DetectionAreaHeight = 12

[YieldParams]
; How far forward yielding vehicles will try to move.
ForwardMoveDistance = 35
; How far to the side yielding vehicles will try to move.
SideMoveDistance = 6
; How far to the side yielding vehicles will move if path is blocked.
ForceSideMoveDistance = 6
; The speed at which yielding vehicles drive to their target position.
DriveSpeed = 12

[Same-sideYieldParams]
; Distance to target to consider a yield task complete.
SameSideYieldCompletionDistance = 3
; Distance from target where a yield task is cancelled.
SameSideYieldAbandonDistance = 45
; Time in milliseconds before a same-side yield task is cancelled.
SameSideYieldTimeoutMs = 3000

[OncomingTraffic]
; Heading dot product threshold to be considered oncoming traffic.
OncomingBrakeHeadingDot = -0.7
; Minimum lateral offset for oncoming traffic to brake.
OncomingBrakeMinLateral = -19
; Maximum lateral offset for oncoming traffic to brake.
OncomingBrakeMaxLateral = -1.5
; Duration in milliseconds for the braking maneuver.
OncomingBrakeDurationMs = 1500

[IntersectionDetection]
; Minimum distance to start searching for intersections.
IntersectionSearchMinDistance = 30
; Maximum distance to search for intersections.
IntersectionSearchMaxDistance = 45
; Step size when searching forward for intersections.
IntersectionSearchStepSize = 7
; Radius to search for traffic light/stop sign objects.
IntersectionSearchRadius = 45
; Allowed heading difference between player and traffic light.
IntersectionHeadingThreshold = 40
; Heading dot product to be considered cross-traffic.
CrossTrafficHeadingDotThreshold = 0.25

[IntersectionCreep]
; Speed below which a vehicle is considered 'stopped' and can creep.
MinYieldSpeedMph = 4
; How far forward vehicles will creep.
IntersectionCreepForwardDistance = 8.5
; How far to the side vehicles will creep.
IntersectionCreepSideDistance = 6.5
; The speed at which vehicles perform the creep maneuver.
IntersectionCreepDriveSpeed = 12
; Distance to target to consider a creep task complete.
CreepTaskCompletionDistance = 1.5
; Distance from target where a creep task is cancelled.
CreepTaskAbandonDistance = 13
; Time in milliseconds before a creep task is cancelled.
CreepTaskTimeoutMs = 2500
